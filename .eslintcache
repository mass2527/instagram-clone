[{"C:\\Users\\mass2\\Desktop\\react\\react-redux\\app\\src\\index.js":"1","C:\\Users\\mass2\\Desktop\\react\\react-redux\\app\\src\\App.js":"2","C:\\Users\\mass2\\Desktop\\react\\react-redux\\app\\src\\serviceWorker.js":"3","C:\\Users\\mass2\\Desktop\\react\\react-redux\\app\\src\\app\\store.js":"4","C:\\Users\\mass2\\Desktop\\react\\react-redux\\app\\src\\components\\Header.js":"5","C:\\Users\\mass2\\Desktop\\react\\react-redux\\app\\src\\components\\Feed.js":"6","C:\\Users\\mass2\\Desktop\\react\\react-redux\\app\\src\\components\\Post.js":"7","C:\\Users\\mass2\\Desktop\\react\\react-redux\\app\\src\\components\\Comment.js":"8","C:\\Users\\mass2\\Desktop\\react\\react-redux\\app\\src\\firebase\\firebase.js":"9","C:\\Users\\mass2\\Desktop\\react\\react-redux\\app\\src\\Route\\Login.js":"10","C:\\Users\\mass2\\Desktop\\react\\react-redux\\app\\src\\features\\userSlice.js":"11","C:\\Users\\mass2\\Desktop\\react\\react-redux\\app\\src\\components\\DropdownMenu.js":"12","C:\\Users\\mass2\\Desktop\\react\\react-redux\\app\\src\\components\\Overlay.js":"13","C:\\Users\\mass2\\Desktop\\react\\react-redux\\app\\src\\components\\CommentSender.js":"14","C:\\Users\\mass2\\Desktop\\react\\react-redux\\app\\src\\components\\PostImageLoader.js":"15","C:\\Users\\mass2\\Desktop\\react\\react-redux\\app\\src\\components\\TransitionsModal.js":"16","C:\\Users\\mass2\\Desktop\\react\\react-redux\\app\\src\\components\\Profile.js":"17","C:\\Users\\mass2\\Desktop\\react\\react-redux\\app\\src\\components\\SquarePost.js":"18","C:\\Users\\mass2\\Desktop\\react\\react-redux\\app\\src\\components\\RefreshLoader.js":"19","C:\\Users\\mass2\\Desktop\\react\\react-redux\\app\\src\\components\\ProfilePosts.js":"20","C:\\Users\\mass2\\Desktop\\react\\react-redux\\app\\src\\utils\\util.js":"21"},{"size":740,"mtime":1609250344504,"results":"22","hashOfConfig":"23"},{"size":2256,"mtime":1609510434204,"results":"24","hashOfConfig":"23"},{"size":5141,"mtime":499162500000,"results":"25","hashOfConfig":"23"},{"size":186,"mtime":1609253602837,"results":"26","hashOfConfig":"23"},{"size":3165,"mtime":1609580343922,"results":"27","hashOfConfig":"23"},{"size":3310,"mtime":1609577716561,"results":"28","hashOfConfig":"23"},{"size":6452,"mtime":1609581139570,"results":"29","hashOfConfig":"23"},{"size":3158,"mtime":1609572818778,"results":"30","hashOfConfig":"23"},{"size":674,"mtime":1609324817607,"results":"31","hashOfConfig":"23"},{"size":6113,"mtime":1609584924973,"results":"32","hashOfConfig":"23"},{"size":470,"mtime":1609313453960,"results":"33","hashOfConfig":"23"},{"size":8211,"mtime":1609478147815,"results":"34","hashOfConfig":"23"},{"size":12068,"mtime":1609580359060,"results":"35","hashOfConfig":"23"},{"size":1909,"mtime":1609476546498,"results":"36","hashOfConfig":"23"},{"size":925,"mtime":1609510279878,"results":"37","hashOfConfig":"23"},{"size":1603,"mtime":1609475615651,"results":"38","hashOfConfig":"23"},{"size":6917,"mtime":1609582257374,"results":"39","hashOfConfig":"23"},{"size":3672,"mtime":1609508815728,"results":"40","hashOfConfig":"23"},{"size":523,"mtime":1609581869999,"results":"41","hashOfConfig":"23"},{"size":562,"mtime":1609511632198,"results":"42","hashOfConfig":"23"},{"size":0,"mtime":1609572516790,"results":"43","hashOfConfig":"23"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},"1dya9m5",{"filePath":"47","messages":"48","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"49","usedDeprecatedRules":"46"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"56","messages":"57","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"58","messages":"59","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"70","usedDeprecatedRules":"46"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"73","messages":"74","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"75","messages":"76","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"77","messages":"78","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"79","messages":"80","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"81","messages":"82","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"83","usedDeprecatedRules":"46"},{"filePath":"84","messages":"85","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"86","messages":"87","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"88","messages":"89","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},"C:\\Users\\mass2\\Desktop\\react\\react-redux\\app\\src\\index.js",[],["90","91"],"C:\\Users\\mass2\\Desktop\\react\\react-redux\\app\\src\\App.js",["92"],"import React, { useEffect } from 'react';\r\nimport styled from 'styled-components';\r\nimport Header from './components/Header';\r\nimport Feed from './components/Feed';\r\nimport { Switch, Route, useLocation } from 'react-router-dom';\r\nimport Login from './Route/Login';\r\nimport { auth } from './firebase/firebase';\r\nimport { signIn, signOut } from './features/userSlice';\r\nimport { useDispatch } from 'react-redux';\r\nimport Overlay from './components/Overlay';\r\nimport Profile from './components/Profile';\r\n\r\nconst S = {\r\n  App: styled.div`\r\n    background-color: rgb(250, 250, 250);\r\n    min-height: 100vh;\r\n  `,\r\n\r\n  AppBody: styled.div`\r\n    display: flex;\r\n    flex-direction: column;\r\n\r\n    align-items: center;\r\n    /* padding-top: 30px; */\r\n  `,\r\n};\r\n\r\nfunction App() {\r\n  const dispatch = useDispatch();\r\n  const location = useLocation();\r\n\r\n  useEffect(() => {\r\n    auth.onAuthStateChanged((currentUser) => {\r\n      if (currentUser) {\r\n        dispatch(\r\n          signIn({\r\n            displayName: currentUser.displayName,\r\n            email: currentUser.email,\r\n            userId: currentUser.uid,\r\n            userImageURL: currentUser.photoURL,\r\n          })\r\n        );\r\n        console.log(currentUser);\r\n      } else {\r\n        dispatch(signOut());\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <S.App>\r\n      {console.log(location.state?.userName)}\r\n\r\n      <Switch>\r\n        <Route exact path=\"/login\">\r\n          <S.AppBody>\r\n            <Login />\r\n          </S.AppBody>\r\n        </Route>\r\n\r\n        <Route exact path=\"/p/:postId/\">\r\n          <Header />\r\n          <S.AppBody>\r\n            {location.state?.userName ? <Profile /> : <Feed />}\r\n            <Overlay />\r\n          </S.AppBody>\r\n        </Route>\r\n\r\n        <Route exact path=\"/:userName/\">\r\n          <Header />\r\n          <S.AppBody>\r\n            <Profile />\r\n          </S.AppBody>\r\n        </Route>\r\n\r\n        <Route exact path=\"/:userName/:option/\">\r\n          <Header />\r\n          <S.AppBody>\r\n            <Profile />\r\n          </S.AppBody>\r\n        </Route>\r\n\r\n        <Route exact path=\"/\">\r\n          <Header />\r\n          <S.AppBody>\r\n            <Feed />\r\n          </S.AppBody>\r\n        </Route>\r\n      </Switch>\r\n    </S.App>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","C:\\Users\\mass2\\Desktop\\react\\react-redux\\app\\src\\serviceWorker.js",[],"C:\\Users\\mass2\\Desktop\\react\\react-redux\\app\\src\\app\\store.js",[],"C:\\Users\\mass2\\Desktop\\react\\react-redux\\app\\src\\components\\Header.js",[],"C:\\Users\\mass2\\Desktop\\react\\react-redux\\app\\src\\components\\Feed.js",["93"],"C:\\Users\\mass2\\Desktop\\react\\react-redux\\app\\src\\components\\Post.js",["94","95","96","97","98"],"C:\\Users\\mass2\\Desktop\\react\\react-redux\\app\\src\\components\\Comment.js",[],"C:\\Users\\mass2\\Desktop\\react\\react-redux\\app\\src\\firebase\\firebase.js",[],"C:\\Users\\mass2\\Desktop\\react\\react-redux\\app\\src\\Route\\Login.js",[],"C:\\Users\\mass2\\Desktop\\react\\react-redux\\app\\src\\features\\userSlice.js",[],"C:\\Users\\mass2\\Desktop\\react\\react-redux\\app\\src\\components\\DropdownMenu.js",["99"],"import React, { useState, useEffect, useRef } from 'react';\r\nimport styled from 'styled-components';\r\nimport FaceIcon from '@material-ui/icons/Face';\r\nimport PublishIcon from '@material-ui/icons/Publish';\r\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\r\nimport db, { auth, storage } from '../firebase/firebase';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { useSelector } from 'react-redux';\r\nimport { selectUser } from '../features/userSlice';\r\nimport LockOpenIcon from '@material-ui/icons/LockOpen';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport Slide from '@material-ui/core/Slide';\r\nimport firebase from 'firebase';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  appBar: {\r\n    position: 'relative',\r\n  },\r\n  title: {\r\n    marginLeft: theme.spacing(2),\r\n    flex: 1,\r\n  },\r\n}));\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n  return <Slide direction=\"up\" ref={ref} {...props} />;\r\n});\r\n\r\nconst S = {\r\n  DropdownMenu: styled.div`\r\n    width: 100px;\r\n    box-sizing: border-box;\r\n    top: 55px;\r\n    position: absolute;\r\n    right: 0px;\r\n    background: white;\r\n    border: 1px solid lightgray;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    font-size: 14px;\r\n    border-radius: 3px;\r\n    box-shadow: 1px 2px 5px lightgray;\r\n    opacity: ${(props) => (props.isOpen ? 1 : 0)};\r\n    transition: opacity 0.3s ease-in-out;\r\n    pointer-events: ${(props) => !props.isOpen && 'none'};\r\n  `,\r\n\r\n  MenuItem: styled.strong`\r\n    height: 40px;\r\n    padding: 5px 0px;\r\n    flex: 1;\r\n    width: 100%;\r\n    display: flex;\r\n    justify-content: flex-start;\r\n    align-items: center;\r\n    cursor: pointer;\r\n    color: #7f7f7f;\r\n    /* opacity:{props} */\r\n\r\n    > .MuiSvgIcon-root {\r\n      margin: 0px 5px;\r\n    }\r\n\r\n    :hover {\r\n      background-color: rgb(250, 250, 250);\r\n      color: black;\r\n    }\r\n  `,\r\n\r\n  UploadContainer: styled.div`\r\n    height: 100%;\r\n    display: grid;\r\n    place-items: center;\r\n    background-color: rgb(250, 250, 250);\r\n  `,\r\n\r\n  UploadForm: styled.form`\r\n    display: flex;\r\n    flex-direction: column;\r\n    width: 350px;\r\n    height: 380px;\r\n\r\n    justify-content: space-between;\r\n  `,\r\n\r\n  UploadInput: styled.input`\r\n    height: 40px;\r\n    border: 1px solid lightgray;\r\n    padding-left: 16px;\r\n    display: ${(props) => props.hide && 'none'};\r\n\r\n    :focus {\r\n      outline: none;\r\n    }\r\n  `,\r\n\r\n  UploadTextarea: styled.textarea`\r\n    flex: 1;\r\n    border: 1px solid lightgray;\r\n    padding: 16px;\r\n\r\n    :focus {\r\n      outline: none;\r\n    }\r\n  `,\r\n\r\n  UploadLabel: styled.label`\r\n    height: 40px;\r\n    border: 1px solid lightgray;\r\n    padding-left: 16px;\r\n    background-color: white;\r\n    display: grid;\r\n    place-items: center;\r\n  `,\r\n\r\n  Loader: styled.img`\r\n    height: 30px;\r\n  `,\r\n};\r\n\r\nfunction DropdownMenu({ isOpen }) {\r\n  const history = useHistory();\r\n  const menuRef = useRef(null);\r\n  const user = useSelector(selectUser);\r\n  const classes = useStyles();\r\n  const [open, setOpen] = useState(false);\r\n  const [title, setTitle] = useState('');\r\n  const [caption, setCaption] = useState('');\r\n  const [file, setFile] = useState(null);\r\n  const [error, setError] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  function initializeInput() {\r\n    setTitle('');\r\n    setCaption('');\r\n    setFile(null);\r\n    setError('');\r\n    setLoading(false);\r\n  }\r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n    initializeInput();\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  function clickProfile() {\r\n    history.push(`/${user.displayName}/`, {\r\n      userName: user.displayName,\r\n    });\r\n  }\r\n\r\n  function clickSignOut() {\r\n    auth.signOut();\r\n    history.replace('/login');\r\n  }\r\n\r\n  function fileChange(e) {\r\n    if (!e.target.files[0]) return;\r\n    setFile(e.target.files[0]);\r\n\r\n    if (\r\n      e.target.files[0].type !== 'image/jpeg' &&\r\n      e.target.files[0].type !== 'image/jpg' &&\r\n      e.target.files[0].type !== 'image/gif' &&\r\n      e.target.files[0].type !== 'image/png'\r\n    ) {\r\n      setFile(null);\r\n      return setError('jpeg(jpg), png and gif extensions only ðŸ˜¥');\r\n    } else {\r\n      setError('');\r\n    }\r\n  }\r\n\r\n  function handleUpload(e) {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n\r\n    const uploadTask = storage.ref(`/images/${file.name}`).put(file);\r\n\r\n    uploadTask.on(\r\n      'state_changed',\r\n      (snapshot) => {},\r\n      (error) => {\r\n        setError(error.message);\r\n      },\r\n      () => {\r\n        storage\r\n          .ref('images')\r\n          .child(file.name)\r\n          .getDownloadURL()\r\n          .then((url) => {\r\n            db.collection('posts').add({\r\n              userImageURL: user.userImageURL,\r\n              displayName: user.displayName,\r\n              title,\r\n              imageURL: url,\r\n              caption,\r\n              userId: user.userId,\r\n              timestamp: firebase.firestore.FieldValue.serverTimestamp(),\r\n            });\r\n            initializeInput();\r\n            handleClose();\r\n          });\r\n      }\r\n    );\r\n  }\r\n\r\n  return (\r\n    <S.DropdownMenu ref={menuRef} isOpen={isOpen}>\r\n      <Dialog\r\n        fullScreen\r\n        open={open}\r\n        onClose={handleClose}\r\n        TransitionComponent={Transition}\r\n      >\r\n        <AppBar className={classes.appBar}>\r\n          <Toolbar>\r\n            <IconButton\r\n              edge=\"start\"\r\n              color=\"inherit\"\r\n              onClick={handleClose}\r\n              aria-label=\"close\"\r\n            >\r\n              <CloseIcon />\r\n            </IconButton>\r\n            <Typography variant=\"h6\" className={classes.title}>\r\n              Upload Post\r\n            </Typography>\r\n            <Button\r\n              onClick={handleUpload}\r\n              disabled={!title.length || !caption.length || !file}\r\n              autoFocus\r\n              color=\"inherit\"\r\n            >\r\n              Upload\r\n            </Button>\r\n          </Toolbar>\r\n        </AppBar>\r\n        <S.UploadContainer>\r\n          <S.UploadForm>\r\n            <S.UploadInput\r\n              onChange={(e) => setTitle(e.target.value)}\r\n              value={title}\r\n              maxLength={30}\r\n              placeholder=\"Title\"\r\n              type=\"text\"\r\n            />\r\n            <S.UploadTextarea\r\n              onChange={(e) => setCaption(e.target.value)}\r\n              value={caption}\r\n              maxLength={700}\r\n              placeholder=\"Caption\"\r\n              type=\"text\"\r\n            ></S.UploadTextarea>\r\n\r\n            <S.UploadLabel htmlFor=\"file\">\r\n              {loading ? (\r\n                <S.Loader\r\n                  src=\"https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fwww.wpfaster.org%2Fwp-content%2Fuploads%2F2013%2F06%2Floading-gif.gif&f=1&nofb=1\"\r\n                  alt=\"\"\r\n                />\r\n              ) : (\r\n                <>Image Select</>\r\n              )}\r\n            </S.UploadLabel>\r\n            <S.UploadInput id=\"file\" hide onChange={fileChange} type=\"file\" />\r\n          </S.UploadForm>\r\n          <div>{file?.name && <strong>{file?.name}</strong>}</div>\r\n          <div>{error && <strong>{error}</strong>}</div>\r\n        </S.UploadContainer>\r\n      </Dialog>\r\n\r\n      {user ? (\r\n        <>\r\n          <S.MenuItem onClick={clickProfile}>\r\n            <FaceIcon />\r\n            Profile\r\n          </S.MenuItem>\r\n          <S.MenuItem onClick={handleClickOpen}>\r\n            <PublishIcon />\r\n            Upload\r\n          </S.MenuItem>\r\n          <S.MenuItem onClick={clickSignOut}>\r\n            <ExitToAppIcon />\r\n            Log out\r\n          </S.MenuItem>\r\n        </>\r\n      ) : (\r\n        <S.MenuItem onClick={() => history.push('/login')}>\r\n          <LockOpenIcon />\r\n          Log in\r\n        </S.MenuItem>\r\n      )}\r\n    </S.DropdownMenu>\r\n  );\r\n}\r\n\r\nexport default DropdownMenu;\r\n","C:\\Users\\mass2\\Desktop\\react\\react-redux\\app\\src\\components\\Overlay.js",["100","101","102"],"C:\\Users\\mass2\\Desktop\\react\\react-redux\\app\\src\\components\\CommentSender.js",[],"C:\\Users\\mass2\\Desktop\\react\\react-redux\\app\\src\\components\\PostImageLoader.js",[],"C:\\Users\\mass2\\Desktop\\react\\react-redux\\app\\src\\components\\TransitionsModal.js",[],"C:\\Users\\mass2\\Desktop\\react\\react-redux\\app\\src\\components\\Profile.js",["103","104","105","106","107"],"C:\\Users\\mass2\\Desktop\\react\\react-redux\\app\\src\\components\\SquarePost.js",["108"],"import React, { useEffect, useRef, useState } from 'react';\r\nimport styled from 'styled-components';\r\nimport FavoriteIcon from '@material-ui/icons/Favorite';\r\nimport ChatBubbleIcon from '@material-ui/icons/ChatBubble';\r\nimport db from '../firebase/firebase';\r\nimport { useHistory, useParams } from 'react-router-dom';\r\n\r\nconst S = {\r\n  SquarePost: styled.div`\r\n    width: calc(33.3333333333333333333333% - 18.6666666666666666666666666px);\r\n    max-width: 293px;\r\n    margin-bottom: 28px;\r\n    height: ${(props) => props.height}px;\r\n    position: relative;\r\n    cursor: pointer;\r\n\r\n    :not(:nth-child(3n)) {\r\n      margin-right: 28px;\r\n    }\r\n\r\n    @media (max-width: 735px) {\r\n      width: calc(33.3333333333333333333333% - 2px);\r\n      margin-bottom: 3px;\r\n\r\n      :not(:nth-child(3n)) {\r\n        margin-right: 3px;\r\n      }\r\n    }\r\n  `,\r\n\r\n  Post: styled.img`\r\n    width: 100%;\r\n    height: 100%;\r\n    display: block;\r\n\r\n    :hover {\r\n    }\r\n  `,\r\n\r\n  Loader: styled.div`\r\n    position: absolute;\r\n    top: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    background-color: #efefef;\r\n  `,\r\n\r\n  Overlay: styled.div`\r\n    position: absolute;\r\n    top: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    background-color: rgba(0, 0, 0, 0.3);\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n  `,\r\n\r\n  IconContainer: styled.div`\r\n    color: white;\r\n    margin: 0px 10px;\r\n    display: flex;\r\n    align-items: center;\r\n    height: 40px;\r\n\r\n    > .MuiSvgIcon-root {\r\n      margin-right: 5px;\r\n    }\r\n  `,\r\n\r\n  Number: styled.div`\r\n    margin-bottom: 5px;\r\n    font-weight: bold;\r\n  `,\r\n};\r\n\r\nfunction SquarePost({ postId, imageURL, title }) {\r\n  const divRef = useRef(null);\r\n  const imageRef = useRef(null);\r\n  const [imageWidth, setImageWidth] = useState(500);\r\n  const [loading, setLoading] = useState(false);\r\n  const [overlayOption, setOverlayOption] = useState(false);\r\n  const [numberOfComments, setNumberOfComments] = useState(0);\r\n  const [numberOfHearts, setNumberOfHearts] = useState(0);\r\n  const currentPost = db.collection('posts').doc(postId);\r\n  const history = useHistory();\r\n  const { userName } = useParams();\r\n\r\n  function clickPost() {\r\n    history.push(`/p/${postId}/`, {\r\n      userName,\r\n    });\r\n  }\r\n\r\n  function handleResize() {\r\n    setImageWidth(divRef?.current?.clientWidth);\r\n  }\r\n\r\n  function handleLoad() {\r\n    setLoading(false);\r\n  }\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    setImageWidth(divRef.current.clientWidth);\r\n\r\n    currentPost.collection('comments').onSnapshot((snapshot) => {\r\n      setNumberOfComments(snapshot.docs?.length);\r\n    });\r\n\r\n    currentPost.collection('hearts').onSnapshot((snapshot) => {\r\n      setNumberOfHearts(snapshot.docs?.length);\r\n    });\r\n\r\n    imageRef.current.addEventListener('load', handleLoad);\r\n    window.addEventListener('resize', handleResize);\r\n    return () => window.removeEventListener('resize', handleResize);\r\n  }, []);\r\n\r\n  return (\r\n    <S.SquarePost\r\n      onClick={clickPost}\r\n      onMouseEnter={() => setOverlayOption(true)}\r\n      onMouseLeave={() => setOverlayOption(false)}\r\n      height={imageWidth}\r\n      ref={divRef}\r\n    >\r\n      <S.Post ref={imageRef} src={imageURL} alt={title} />\r\n      {loading && <S.Loader></S.Loader>}\r\n      {overlayOption && (\r\n        <S.Overlay>\r\n          <S.IconContainer>\r\n            <FavoriteIcon />\r\n            <S.Number>{numberOfHearts}</S.Number>\r\n          </S.IconContainer>\r\n          <S.IconContainer>\r\n            <ChatBubbleIcon />\r\n            <S.Number>{numberOfComments}</S.Number>\r\n          </S.IconContainer>\r\n        </S.Overlay>\r\n      )}\r\n    </S.SquarePost>\r\n  );\r\n}\r\n\r\nexport default SquarePost;\r\n","C:\\Users\\mass2\\Desktop\\react\\react-redux\\app\\src\\components\\RefreshLoader.js",[],"C:\\Users\\mass2\\Desktop\\react\\react-redux\\app\\src\\components\\ProfilePosts.js",[],"C:\\Users\\mass2\\Desktop\\react\\react-redux\\app\\src\\utils\\util.js",[],{"ruleId":"109","replacedBy":"110"},{"ruleId":"111","replacedBy":"112"},{"ruleId":"113","severity":1,"message":"114","line":48,"column":6,"nodeType":"115","endLine":48,"endColumn":8,"suggestions":"116"},{"ruleId":"113","severity":1,"message":"117","line":99,"column":6,"nodeType":"115","endLine":99,"endColumn":13,"suggestions":"118"},{"ruleId":"119","severity":1,"message":"120","line":2,"column":18,"nodeType":"121","messageId":"122","endLine":2,"endColumn":27},{"ruleId":"119","severity":1,"message":"123","line":12,"column":8,"nodeType":"121","messageId":"122","endLine":12,"endColumn":15},{"ruleId":"119","severity":1,"message":"124","line":15,"column":10,"nodeType":"121","messageId":"122","endLine":15,"endColumn":21},{"ruleId":"113","severity":1,"message":"125","line":170,"column":28,"nodeType":"121","endLine":170,"endColumn":35},{"ruleId":"113","severity":1,"message":"126","line":171,"column":6,"nodeType":"115","endLine":171,"endColumn":8,"suggestions":"127"},{"ruleId":"119","severity":1,"message":"128","line":1,"column":27,"nodeType":"121","messageId":"122","endLine":1,"endColumn":36},{"ruleId":"119","severity":1,"message":"129","line":215,"column":10,"nodeType":"121","messageId":"122","endLine":215,"endColumn":17},{"ruleId":"113","severity":1,"message":"125","line":286,"column":17,"nodeType":"121","endLine":286,"endColumn":24},{"ruleId":"113","severity":1,"message":"130","line":294,"column":6,"nodeType":"115","endLine":294,"endColumn":8,"suggestions":"131"},{"ruleId":"119","severity":1,"message":"132","line":1,"column":38,"nodeType":"121","messageId":"122","endLine":1,"endColumn":44},{"ruleId":"119","severity":1,"message":"133","line":3,"column":23,"nodeType":"121","messageId":"122","endLine":3,"endColumn":32},{"ruleId":"119","severity":1,"message":"134","line":149,"column":10,"nodeType":"121","messageId":"122","endLine":149,"endColumn":20},{"ruleId":"119","severity":1,"message":"135","line":149,"column":22,"nodeType":"121","messageId":"122","endLine":149,"endColumn":35},{"ruleId":"113","severity":1,"message":"136","line":175,"column":6,"nodeType":"115","endLine":175,"endColumn":8,"suggestions":"137"},{"ruleId":"113","severity":1,"message":"138","line":118,"column":6,"nodeType":"115","endLine":118,"endColumn":8,"suggestions":"139"},"no-native-reassign",["140"],"no-negated-in-lhs",["141"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'dispatch'. Either include it or remove the dependency array.","ArrayExpression",["142"],"React Hook useEffect has missing dependencies: 'currentPage' and 'numberOfPosts'. Either include them or remove the dependency array.",["143"],"no-unused-vars","'keyframes' is defined but never used.","Identifier","unusedVar","'history' is defined but never used.","'viewProfile' is defined but never used.","The ref value 'imageRef.current' will likely have changed by the time this effect cleanup function runs. If this ref points to a node rendered by React, copy 'imageRef.current' to a variable inside the effect, and use that variable in the cleanup function.","React Hook useEffect has a missing dependency: 'postId'. Either include it or remove the dependency array.",["144"],"'useEffect' is defined but never used.","'scrollY' is assigned a value but never used.","React Hook useEffect has missing dependencies: 'clickOverlay', 'postId', and 'pressESC'. Either include them or remove the dependency array.",["145"],"'useRef' is defined but never used.","'useParams' is defined but never used.","'likedPosts' is assigned a value but never used.","'setLikedPosts' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'userName'. Either include it or remove the dependency array.",["146"],"React Hook useEffect has a missing dependency: 'currentPost'. Either include it or remove the dependency array.",["147"],"no-global-assign","no-unsafe-negation",{"desc":"148","fix":"149"},{"desc":"150","fix":"151"},{"desc":"152","fix":"153"},{"desc":"154","fix":"155"},{"desc":"156","fix":"157"},{"desc":"158","fix":"159"},"Update the dependencies array to be: [dispatch]",{"range":"160","text":"161"},"Update the dependencies array to be: [currentPage, numberOfPosts, posts]",{"range":"162","text":"163"},"Update the dependencies array to be: [postId]",{"range":"164","text":"165"},"Update the dependencies array to be: [clickOverlay, postId, pressESC]",{"range":"166","text":"167"},"Update the dependencies array to be: [userName]",{"range":"168","text":"169"},"Update the dependencies array to be: [currentPost]",{"range":"170","text":"171"},[1286,1288],"[dispatch]",[2380,2387],"[currentPage, numberOfPosts, posts]",[3918,3920],"[postId]",[6972,6974],"[clickOverlay, postId, pressESC]",[3849,3851],"[userName]",[2923,2925],"[currentPost]"]